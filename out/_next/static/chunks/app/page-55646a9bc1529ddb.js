(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{95:function(e,a,s){Promise.resolve().then(s.bind(s,9784))},9784:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return A}});var t=s(7437),r=s(2265),n=s(2157);function i(){let[e,a]=(0,r.useState)(null),[s,t]=(0,r.useState)(!0),i=(0,n.e)();return(0,r.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:s}=await i.auth.getUser();if(s){console.error("Error getting user:",s),a(null),t(!1);return}e&&e.email?(console.log("Current user authenticated:",e.email),a(e)):(console.log("No authenticated user found"),a(null))}catch(e){console.error("Unexpected error in getUser:",e),a(null)}finally{t(!1)}})();let{data:{subscription:e}}=i.auth.onAuthStateChange((e,s)=>{var r,n;console.log("Auth state changed:",e,(null==s?void 0:null===(r=s.user)||void 0===r?void 0:r.email)||"No user"),(null==s?void 0:null===(n=s.user)||void 0===n?void 0:n.email)?a(s.user):a(null),t(!1)});return()=>{e.unsubscribe()}},[]),{user:e,loading:s,signOut:async()=>{await i.auth.signOut(),a(null)},isAuthenticated:!!e}}var l=s(488),c=s(1513),o=s(6033);function m(e){let{onSkip:a}=e,[s,i]=(0,r.useState)(!1),[l,m]=(0,r.useState)(null),d=(0,n.e)(),x=async()=>{console.log("Login button clicked"),i(!0),m(null);try{let e="".concat(window.location.origin,"/auth/callback");console.log("Redirect URL:",e);let{data:a,error:s}=await d.auth.signInWithOAuth({provider:"google",options:{redirectTo:e}});console.log("SignInWithOAuth result:",{data:a,error:s}),s&&(m("Erro ao fazer login. Tente novamente."),console.error("Login error:",s))}catch(e){m("Erro inesperado. Tente novamente."),console.error("Unexpected error:",e)}finally{i(!1)}},u=Object.values(o.j);return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100 flex items-center justify-center px-4",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:u.map((e,a)=>(0,t.jsx)(c.E.span,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.1*a},className:"text-2xl",children:e.icon},e.name))}),(0,t.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold text-warmGray-900 mb-2",children:"Quiz dos 5 Elementos"}),(0,t.jsx)("p",{className:"text-warmGray-600",children:"Descubra o que est\xe1 desalinhado no seu relacionamento"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-warmGray-100 p-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-warmGray-900 text-center mb-6",children:"Entre para come\xe7ar"}),(0,t.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("li",{className:"flex items-center gap-3 text-sm text-warmGray-600",children:[(0,t.jsx)("span",{className:"text-green-500",children:"✓"}),"Salve seu resultado e acesse depois"]}),(0,t.jsxs)("li",{className:"flex items-center gap-3 text-sm text-warmGray-600",children:[(0,t.jsx)("span",{className:"text-green-500",children:"✓"}),"Receba seu Planner de 30 dias personalizado"]}),(0,t.jsxs)("li",{className:"flex items-center gap-3 text-sm text-warmGray-600",children:[(0,t.jsx)("span",{className:"text-green-500",children:"✓"}),"Acompanhe sua evolu\xe7\xe3o ao longo do tempo"]})]}),(0,t.jsxs)("button",{onClick:x,disabled:s,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-warmGray-200  rounded-xl px-6 py-4 text-warmGray-700 font-medium hover:bg-warmGray-50 hover:border-warmGray-300  transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-warmGray-300 border-t-warmGray-600 rounded-full animate-spin"}):(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Conectando...":"Continuar com Google"]}),l&&(0,t.jsx)("p",{className:"mt-4 text-center text-sm text-red-500",children:l}),a&&(0,t.jsx)("button",{onClick:a,className:"w-full mt-4 text-sm text-warmGray-500 hover:text-warmGray-700 transition-colors",children:"Fazer sem cadastro (resultado n\xe3o ser\xe1 salvo)"})]}),(0,t.jsxs)("p",{className:"text-center text-xs text-warmGray-400 mt-6",children:["Ao continuar, voc\xea concorda com nossa pol\xedtica de privacidade.",(0,t.jsx)("br",{}),"Seus dados est\xe3o seguros e n\xe3o ser\xe3o compartilhados."]}),(0,t.jsxs)("p",{className:"text-center text-sm text-warmGray-500 mt-8",children:["Por ",(0,t.jsx)("strong",{children:"Jaya Roberta"})," | Terapeuta Integrativa"]})]})})}var d=s(9896);function x(){let e=(0,l.v)(e=>e.startQuiz),{user:a,signOut:s}=i(),r=Object.values(o.j);return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100",children:[a&&(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-sm text-warmGray-600 hover:text-warmGray-900 bg-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4"}),"Sair"]})}),(0,t.jsxs)("div",{className:"container-quiz py-12 sm:py-16",children:[(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,t.jsx)("span",{className:"inline-block rounded-full bg-green-500 px-4 py-1.5 text-sm font-medium text-white mb-6",children:"✅ VERS\xc3O 2.0 ATUALIZADA • Teste gratuito • 3 minutos"}),(0,t.jsxs)("h1",{className:"font-display text-3xl sm:text-4xl md:text-5xl font-bold text-warmGray-900 leading-tight mb-4",children:["Por Que Voc\xeas Falam",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-gradient",children:"Mas Ningu\xe9m Se Ouve?"})]}),(0,t.jsx)("p",{className:"text-lg sm:text-xl text-warmGray-600 max-w-xl mx-auto mb-8",children:"Descubra em 3 minutos qual dos 5 Elementos est\xe1 desalinhado no seu relacionamento — e por que voc\xeas parecem falar l\xednguas diferentes."})]}),(0,t.jsx)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-2 sm:grid-cols-5 gap-3 sm:gap-4 mb-10",children:r.map((e,a)=>(0,t.jsxs)(c.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.3+.1*a},className:"flex flex-col items-center p-4 rounded-xl bg-white shadow-sm border border-warmGray-100\n                ".concat(4===a?"col-span-2 sm:col-span-1":""),children:[(0,t.jsx)("span",{className:"text-3xl mb-2",children:e.icon}),(0,t.jsx)("span",{className:"font-semibold text-warmGray-800 text-sm",children:e.name.toUpperCase()}),(0,t.jsx)("span",{className:"text-xs text-warmGray-500 text-center mt-1",children:e.shortMeaning})]},e.name))}),(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-center",children:[(0,t.jsx)("button",{onClick:e,className:"btn-primary text-xl px-10 py-5 mb-4",children:"Descobrir Meu Elemento Desalinhado"}),(0,t.jsx)("p",{className:"text-sm text-warmGray-500",children:"✓ 10 perguntas r\xe1pidas \xa0•\xa0 ✓ Resultado imediato \xa0•\xa0 ✓ 100% gratuito"})]}),(0,t.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},className:"mt-12 pt-8 border-t border-warmGray-200",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-warmGray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-lg",children:"✨"})}),(0,t.jsxs)("span",{className:"text-sm text-warmGray-600",children:["Por ",(0,t.jsx)("strong",{children:"Jaya Roberta"})," | 8 anos transformando casais"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-warmGray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-lg",children:"\uD83D\uDD25"})}),(0,t.jsxs)("span",{className:"text-sm text-warmGray-600",children:[(0,t.jsx)("strong",{children:"+500 casais"})," j\xe1 fizeram esse diagn\xf3stico"]})]})]})}),(0,t.jsx)(c.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"text-center text-warmGray-500 text-sm mt-8 max-w-md mx-auto",children:"⚠️ Responda com honestidade. Este teste s\xf3 funciona se voc\xea for real consigo mesmo(a) sobre como o relacionamento est\xe1 hoje."})]})]})}var u=s(4446),h=s(518),p=s(2440);function y(){let{currentQuestionIndex:e,answers:a,answerQuestion:s,goToPreviousQuestion:n,getProgress:i}=(0,l.v)(),[m,d]=(0,r.useState)(null),x=p.X[e],y=o.j[x.element],j=i(),f=a.find(e=>e.questionId===x.id),b=e=>{d(e),setTimeout(()=>{s({questionId:x.id,element:x.element,value:e}),d(null)},300)};return(0,t.jsxs)("div",{className:"min-h-screen bg-cream flex flex-col",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-cream/95 backdrop-blur-sm border-b border-warmGray-100 z-10",children:(0,t.jsxs)("div",{className:"container-quiz py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,t.jsx)("button",{onClick:n,disabled:0===e,className:"p-2 -ml-2 rounded-lg text-warmGray-500 hover:text-warmGray-700  hover:bg-warmGray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-colors","aria-label":"Voltar",children:(0,t.jsx)(h.Z,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("div",{className:"progress-bar",children:(0,t.jsx)(c.E.div,{className:"progress-bar-fill",initial:{width:0},animate:{width:"".concat(j,"%")},transition:{duration:.5,ease:"easeOut"}})})}),(0,t.jsxs)("span",{className:"text-sm font-medium text-warmGray-500 tabular-nums",children:[e+1,"/",p.X.length]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"element-badge ".concat(x.element),children:[y.icon," ",y.name]}),(0,t.jsx)("span",{className:"text-xs text-warmGray-400",children:y.question})]})]})}),(0,t.jsx)("div",{className:"flex-1 flex items-center",children:(0,t.jsx)("div",{className:"container-quiz py-8 w-full",children:(0,t.jsx)(u.M,{mode:"wait",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[(0,t.jsx)("h2",{className:"font-display text-2xl sm:text-3xl font-bold text-warmGray-900 mb-8 leading-snug",children:x.text}),(0,t.jsx)("div",{className:"space-y-3",children:x.options.map((e,a)=>{let s=m===e.value||(null==f?void 0:f.value)===e.value;return(0,t.jsx)(c.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},onClick:()=>b(e.value),className:"option-card ".concat(s?"selected":""),children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex-shrink-0 transition-all duration-200\n                            ".concat(s?"border-fogo bg-fogo":"border-warmGray-300"),children:s&&(0,t.jsx)(c.E.div,{initial:{scale:0},animate:{scale:1},className:"w-full h-full rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})}),(0,t.jsx)("span",{className:"text-base sm:text-lg transition-colors duration-200\n                            ".concat(s?"text-warmGray-900 font-medium":"text-warmGray-700"),children:e.text})]})},a)})})]},x.id)})})}),(0,t.jsx)("div",{className:"border-t border-warmGray-100 bg-warmGray-50",children:(0,t.jsx)("div",{className:"container-quiz py-4",children:(0,t.jsxs)("p",{className:"text-center text-sm text-warmGray-500",children:["\uD83D\uDCA1 Responda pensando em como as coisas est\xe3o ",(0,t.jsx)("strong",{children:"hoje"}),", n\xe3o como voc\xea gostaria que fossem."]})})})]})}let j=[{text:"Analisando suas respostas...",emoji:"\uD83D\uDD0D"},{text:"Mapeando os 5 Elementos...",emoji:"\uD83C\uDF0D"},{text:"Identificando padr\xf5es...",emoji:"\uD83E\uDDE9"},{text:"Gerando seu diagn\xf3stico...",emoji:"✨"}];function f(){let[e,a]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{a(e=>e<j.length-1?e+1:e)},600);return()=>clearInterval(e)},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"container-quiz text-center py-16",children:[(0,t.jsxs)(c.E.div,{className:"relative w-32 h-32 mx-auto mb-10",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:[["\uD83C\uDF0D","\uD83D\uDCA7","\uD83C\uDF2C️","\uD83D\uDD25","✨"].map((e,a)=>{let s=360*a/5*Math.PI/180;return(0,t.jsx)(c.E.span,{className:"absolute text-3xl",style:{left:"calc(50% + ".concat(50*Math.cos(s),"px - 15px)"),top:"calc(50% + ".concat(50*Math.sin(s),"px - 15px)")},animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,delay:.3*a},children:e},a)}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"loading-spinner"})})]}),(0,t.jsx)("div",{className:"space-y-4",children:j.map((a,s)=>(0,t.jsxs)(c.E.div,{initial:{opacity:.3},animate:{opacity:s<=e?1:.3},transition:{duration:.3},className:"flex items-center justify-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:a.emoji}),(0,t.jsx)("span",{className:"text-lg ".concat(s<=e?"text-warmGray-800 font-medium":"text-warmGray-400"),children:a.text}),s<e&&(0,t.jsx)(c.E.span,{initial:{scale:0},animate:{scale:1},className:"text-green-500",children:"✓"})]},s))}),(0,t.jsx)(c.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"mt-10 text-warmGray-500 text-sm max-w-md mx-auto",children:"O M\xe9todo dos 5 Elementos analisa as dimens\xf5es fundamentais de todo relacionamento saud\xe1vel..."})]})})}var b=s(4086),g=s(7893);function N(){let{result:e,submitEmail:a}=(0,l.v)(),[s,n]=(0,r.useState)(""),[i,m]=(0,r.useState)(!1),[d,x]=(0,r.useState)("");if(!e)return null;let u=o.j[e.lowestElement],h=async e=>{if(e.preventDefault(),x(""),!s||!s.includes("@")){x("Por favor, insira um email v\xe1lido");return}m(!0),await new Promise(e=>setTimeout(e,1e3)),a(s)};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100 flex items-center justify-center",children:(0,t.jsx)("div",{className:"container-quiz py-12",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[(0,t.jsx)(c.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"mb-6",children:(0,t.jsx)("span",{className:"text-7xl",children:u.icon})}),(0,t.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,t.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold text-warmGray-900 mb-2",children:"Seu elemento desalinhado \xe9:"}),(0,t.jsx)("h2",{className:"font-display text-4xl sm:text-5xl font-bold mb-4",children:(0,t.jsx)("span",{className:"text-".concat(u.color),children:u.name.toUpperCase()})}),(0,t.jsxs)("p",{className:"text-warmGray-600 mb-8 max-w-md mx-auto",children:[u.shortMeaning," — isso explica por que voc\xeas falam mas n\xe3o se sentem ouvidos."]})]}),(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-lg border border-warmGray-100 p-6 sm:p-8 max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"text-left mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-warmGray-900 text-lg mb-2",children:"Para receber sua an\xe1lise completa:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-warmGray-600",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-500 mt-0.5",children:"✓"}),"O que esse desalinhamento significa na pr\xe1tica"]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-500 mt-0.5",children:"✓"}),'Por que voc\xeas "falam mas n\xe3o se entendem"']}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-500 mt-0.5",children:"✓"}),"3 primeiros passos para realinhar"]})]})]}),(0,t.jsxs)("form",{onSubmit:h,children:[(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(b.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-warmGray-400"}),(0,t.jsx)("input",{type:"email",value:s,onChange:e=>n(e.target.value),placeholder:"Seu melhor email",className:"input-email pl-12",disabled:i})]}),d&&(0,t.jsx)("p",{className:"text-red-500 text-sm mb-4",children:d}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"btn-primary w-full",children:i?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enviando..."]}):"Ver Meu Resultado Completo"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4 text-xs text-warmGray-500",children:[(0,t.jsx)(g.Z,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Seu email est\xe1 seguro. N\xe3o enviamos spam."})]})]})]})})})}var w=s(6463),v=s(3274),G=s(3907),E=s(3787),D=s(6706),C=s(3953),S=s(8992);let k={generatePlanner:"https://us-central1-quiz-5-elementos-claude.cloudfunctions.net/generatePlanner"};async function I(e,a){let s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error((await s.json().catch(()=>({error:"Unknown error"}))).error||"API Error: ".concat(s.status));return s.json()}function z(){let e=(0,w.useRouter)(),{result:a,resetQuiz:s,userData:m,answers:d,setPlanner:x}=(0,l.v)(),{user:u}=i(),h=(0,n.e)(),[p,y]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!1),[b,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{a&&u&&!j&&N()},[a,u]);let N=async()=>{if(a&&u)try{let{error:e}=await h.from("quiz_results").insert({user_id:u.id,terra_score:a.scores.terra,agua_score:a.scores.agua,ar_score:a.scores.ar,fogo_score:a.scores.fogo,eter_score:a.scores.eter,lowest_element:a.lowestElement,lowest_score:a.lowestScore,second_lowest_element:a.secondLowestElement||null,pattern:a.pattern||null,raw_answers:d});if(e)throw e;f(!0)}catch(e){console.error("Erro ao salvar resultado:",e)}},z=async()=>{if(a){y(!0),g(null);try{let s=await I(k.generatePlanner,{lowestElement:a.lowestElement,scores:a.scores,secondLowestElement:a.secondLowestElement,pattern:a.pattern});x(s.planner),u&&await h.from("planners").insert({user_id:u.id,element_focus:a.lowestElement,content:s.planner}),e.push("/planner")}catch(e){g("Erro ao gerar seu planner. Tente novamente."),console.error(e)}finally{y(!1)}}};if(!a)return null;let A=o.j[a.lowestElement],M=(0,S.jr)(a),O=(0,S.LO)(a);return(0,t.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br ".concat({terra:"from-terra to-terra-dark",agua:"from-agua to-agua-dark",ar:"from-ar to-ar-dark",fogo:"from-fogo to-fogo-dark",eter:"from-eter to-eter-dark"}[a.lowestElement]," text-white py-12 sm:py-16"),children:(0,t.jsx)("div",{className:"container-quiz text-center",children:(0,t.jsxs)(c.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[(0,t.jsx)("span",{className:"text-6xl sm:text-8xl block mb-4",children:A.icon}),(0,t.jsx)("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:M.title}),(0,t.jsx)("p",{className:"text-xl opacity-90",children:M.subtitle}),"critica"===O&&(0,t.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-4 inline-block bg-white/20 rounded-full px-4 py-2 text-sm",children:"⚠️ N\xedvel cr\xedtico identificado — aten\xe7\xe3o necess\xe1ria"})]})})}),(0,t.jsxs)("div",{className:"container-quiz py-10",children:[(0,t.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-10",children:[(0,t.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"O Que Isso Significa"}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-warmGray-100",children:(0,t.jsx)("p",{className:"text-warmGray-700 leading-relaxed",children:M.explanation})})]}),(0,t.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-10",children:[(0,t.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"Por Que Voc\xeas Falam Mas N\xe3o Se Sentem Ouvidos"}),(0,t.jsx)("div",{className:"bg-warmGray-50 rounded-xl p-6 border-l-4 border-fogo",children:(0,t.jsx)("p",{className:"text-warmGray-700 leading-relaxed",children:M.whyNotHeard})})]}),a.pattern&&(0,t.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"mb-10",children:[(0,t.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"⚡ Padr\xe3o Identificado"}),(0,t.jsxs)("div",{className:"bg-red-50 rounded-xl p-6 border border-red-100",children:[(0,t.jsxs)("p",{className:"text-warmGray-700 leading-relaxed",children:[(0,t.jsx)("strong",{children:"Aten\xe7\xe3o:"})," ",a.pattern]}),a.secondLowestElement&&(0,t.jsxs)("p",{className:"mt-2 text-sm text-warmGray-500",children:["Elemento secund\xe1rio em risco:"," ",(0,t.jsxs)("span",{className:"element-badge ".concat(a.secondLowestElement),children:[o.j[a.secondLowestElement].icon," ",o.j[a.secondLowestElement].name]})]})]})]}),(0,t.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:[(0,t.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"Primeiros Passos Para Realinhar"}),(0,t.jsx)("div",{className:"space-y-3",children:M.firstSteps.map((e,a)=>(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+.1*a},className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-sm border border-warmGray-100",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-".concat(A.color,"/10 \n                             text-").concat(A.color,"-dark font-bold flex items-center justify-center"),children:a+1}),(0,t.jsx)("p",{className:"text-warmGray-700 pt-1",children:e})]},a))})]}),(0,t.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-10",children:[(0,t.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"Seu Mapa dos 5 Elementos"}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-warmGray-100",children:(0,t.jsx)("div",{className:"space-y-4",children:Object.keys(a.scores).map(e=>{let s=a.scores[e],r=s/8*100,n=o.j[e],i=e===a.lowestElement;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-sm font-medium text-warmGray-700",children:[(0,t.jsx)("span",{children:n.icon}),(0,t.jsx)("span",{children:n.name}),i&&(0,t.jsx)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded-full",children:"Desalinhado"})]}),(0,t.jsxs)("span",{className:"text-sm text-warmGray-500 tabular-nums",children:[s,"/",8]})]}),(0,t.jsx)("div",{className:"h-3 bg-warmGray-100 rounded-full overflow-hidden",children:(0,t.jsx)(c.E.div,{initial:{width:0},animate:{width:"".concat(r,"%")},transition:{duration:.8,delay:.7},className:"h-full rounded-full ".concat(i?"bg-red-400":r>=75?"bg-green-400":r>=50?"bg-yellow-400":"bg-orange-400")})})]},e)})})})]}),(0,t.jsx)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-10",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-warmGray-900 to-warmGray-800 rounded-2xl p-8 text-white text-center",children:[(0,t.jsx)("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-4",children:"\uD83E\uDD16 Seu Planner de 30 Dias Personalizado"}),(0,t.jsxs)("p",{className:"text-warmGray-300 mb-6 max-w-lg mx-auto",children:["Nossa IA vai criar um plano de ",(0,t.jsx)("strong",{children:"30 dias"})," com exerc\xedcios pr\xe1ticos espec\xedficos para realinhar o elemento ",(0,t.jsx)("strong",{children:A.name})," no seu relacionamento."]}),(0,t.jsxs)("ul",{className:"text-left max-w-md mx-auto mb-6 space-y-2",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,t.jsx)("span",{className:"text-green-400",children:"✓"}),"Exerc\xedcios di\xe1rios de 5-15 minutos"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,t.jsx)("span",{className:"text-green-400",children:"✓"}),"Progress\xe3o gradual ao longo das 4 semanas"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,t.jsx)("span",{className:"text-green-400",children:"✓"}),"Gerado por IA com base nas SUAS respostas"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,t.jsx)("span",{className:"text-green-400",children:"✓"}),"Abre em p\xe1gina dedicada e visual"]})]}),(0,t.jsx)("button",{onClick:z,disabled:p,className:"btn-primary bg-fogo hover:bg-fogo-dark text-lg px-8 py-4 disabled:opacity-50 inline-flex items-center gap-2",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{className:"w-5 h-5 animate-spin"}),"Gerando seu planner..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G.Z,{className:"w-5 h-5"}),"Gerar Meu Planner Gr\xe1tis",(0,t.jsx)(E.Z,{className:"w-4 h-4"})]})}),b&&(0,t.jsx)("p",{className:"mt-4 text-red-300 text-sm",children:b})]})}),(0,t.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-6 border-t border-warmGray-200",children:[(0,t.jsxs)("button",{onClick:s,className:"btn-secondary flex items-center gap-2",children:[(0,t.jsx)(D.Z,{className:"w-4 h-4"}),"Refazer Quiz"]}),(0,t.jsxs)("a",{href:"https://instagram.com/jayaroberta",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary flex items-center gap-2",children:[(0,t.jsx)(C.Z,{className:"w-4 h-4"}),"Seguir @jayaroberta"]})]}),(0,t.jsxs)("div",{className:"text-center mt-10 pt-6 border-t border-warmGray-200",children:[(0,t.jsxs)("p",{className:"text-warmGray-500 text-sm",children:["M\xe9todo dos 5 Elementos por"," ",(0,t.jsx)("strong",{className:"text-warmGray-700",children:"Jaya Roberta"})]}),(0,t.jsx)("p",{className:"text-warmGray-400 text-xs mt-1",children:"Terapeuta Integrativa | Relacionamentos & Sexualidade"})]})]})]})}function A(){let{user:e,loading:a,isAuthenticated:s}=i(),r=(0,l.v)(e=>e.currentStep);return(console.log("Auth state:",{user:!!e,loading:a,isAuthenticated:s}),a)?(0,t.jsx)("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:["\uD83C\uDF0D","\uD83D\uDCA7","\uD83C\uDF2C️","\uD83D\uDD25","✨"].map((e,a)=>(0,t.jsx)("span",{className:"text-2xl animate-pulse",style:{animationDelay:"".concat(.1*a,"s")},children:e},a))}),(0,t.jsx)("p",{className:"text-warmGray-500",children:"Carregando..."})]})}):s&&e&&e.email?(console.log("User authenticated:",e.email),(0,t.jsxs)("div",{className:"flex-1",children:["landing"===r&&(0,t.jsx)(x,{}),"quiz"===r&&(0,t.jsx)(y,{}),"calculating"===r&&(0,t.jsx)(f,{}),"email-capture"===r&&(0,t.jsx)(N,{}),"result"===r&&(0,t.jsx)(z,{})]})):(console.log("Not authenticated, showing login screen"),(0,t.jsx)(m,{}))}s(6780)},2157:function(e,a,s){"use strict";s.d(a,{e:function(){return r}});var t=s(3506);function r(){let e="https://gytyvacakzqofpnsutdk.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd5dHl2YWNha3pxb2ZwbnN1dGRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1MTI4NDMsImV4cCI6MjA2MzA4ODg0M30.KexltGV2axhMohvl2avEOBiosH-VmZ8lFZUtuF6IbCc";return e&&a||console.error("Supabase environment variables missing:",{url:!!e,key:!!a}),(0,t.createBrowserClient)(e,a)}}},function(e){e.O(0,[925,506,984,488,971,23,744],function(){return e(e.s=95)}),_N_E=e.O()}]);