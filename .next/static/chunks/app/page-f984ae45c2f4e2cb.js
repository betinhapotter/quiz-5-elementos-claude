(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5304:function(e,a,t){Promise.resolve().then(t.bind(t,4301))},4301:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return I}});var s=t(7437),r=t(2265),n=t(2157);function l(){let[e,a]=(0,r.useState)(null),[t,s]=(0,r.useState)(!0),l=(0,n.e)();return(0,r.useEffect)(()=>{(async()=>{try{var e;let{data:{session:t},error:s}=await l.auth.getSession();console.log("\uD83D\uDD10 Auth Check:",{hasSession:!!t,hasUser:!!(null==t?void 0:t.user),userEmail:null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.email,error:null==s?void 0:s.message}),(null==t?void 0:t.user)?a(t.user):a(null)}catch(e){console.error("❌ Auth error:",e),a(null)}finally{s(!1)}})();let{data:{subscription:e}}=l.auth.onAuthStateChange((e,t)=>{var r;console.log("\uD83D\uDD04 Auth state changed:",e,!!t),a(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),s(!1)});return()=>{e.unsubscribe()}},[]),{user:e,loading:t,signOut:async()=>{await l.auth.signOut(),a(null)},isAuthenticated:!!e}}var i=t(488),c=t(1513),o=t(6033);function m(e){let{onSkip:a}=e,[t,l]=(0,r.useState)(!1),[i,m]=(0,r.useState)(null),d=(0,n.e)(),x=async()=>{l(!0),m(null);try{let{error:e}=await d.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/")}});e&&(m("Erro ao fazer login. Tente novamente."),console.error("Login error:",e))}catch(e){m("Erro inesperado. Tente novamente."),console.error("Unexpected error:",e)}finally{l(!1)}},u=Object.values(o.j);return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100 flex items-center justify-center px-4",children:(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:u.map((e,a)=>(0,s.jsx)(c.E.span,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.1*a},className:"text-2xl",children:e.icon},e.name))}),(0,s.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold text-warmGray-900 mb-2",children:"Quiz dos 5 Elementos"}),(0,s.jsx)("p",{className:"text-warmGray-600",children:"Descubra o que est\xe1 desalinhado no seu relacionamento"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-warmGray-100 p-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-warmGray-900 text-center mb-6",children:"Entre para come\xe7ar"}),(0,s.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,s.jsxs)("li",{className:"flex items-center gap-3 text-sm text-warmGray-600",children:[(0,s.jsx)("span",{className:"text-green-500",children:"✓"}),"Salve seu resultado e acesse depois"]}),(0,s.jsxs)("li",{className:"flex items-center gap-3 text-sm text-warmGray-600",children:[(0,s.jsx)("span",{className:"text-green-500",children:"✓"}),"Receba seu Planner de 30 dias personalizado"]}),(0,s.jsxs)("li",{className:"flex items-center gap-3 text-sm text-warmGray-600",children:[(0,s.jsx)("span",{className:"text-green-500",children:"✓"}),"Acompanhe sua evolu\xe7\xe3o ao longo do tempo"]})]}),(0,s.jsxs)("button",{onClick:x,disabled:t,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-warmGray-200  rounded-xl px-6 py-4 text-warmGray-700 font-medium hover:bg-warmGray-50 hover:border-warmGray-300  transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[t?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-warmGray-300 border-t-warmGray-600 rounded-full animate-spin"}):(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Conectando...":"Continuar com Google"]}),i&&(0,s.jsx)("p",{className:"mt-4 text-center text-sm text-red-500",children:i}),a&&(0,s.jsx)("button",{onClick:a,className:"w-full mt-4 text-sm text-warmGray-500 hover:text-warmGray-700 transition-colors",children:"Fazer sem cadastro (resultado n\xe3o ser\xe1 salvo)"})]}),(0,s.jsxs)("p",{className:"text-center text-xs text-warmGray-400 mt-6",children:["Ao continuar, voc\xea concorda com nossa pol\xedtica de privacidade.",(0,s.jsx)("br",{}),"Seus dados est\xe3o seguros e n\xe3o ser\xe3o compartilhados."]}),(0,s.jsxs)("p",{className:"text-center text-sm text-warmGray-500 mt-8",children:["Por ",(0,s.jsx)("strong",{children:"Jaya Roberta"})," | Terapeuta Integrativa"]})]})})}function d(){let e=(0,i.v)(e=>e.startQuiz),a=Object.values(o.j);return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100",children:(0,s.jsxs)("div",{className:"container-quiz py-12 sm:py-16",children:[(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,s.jsx)("span",{className:"inline-block rounded-full bg-fogo/10 px-4 py-1.5 text-sm font-medium text-fogo-dark mb-6",children:"Teste gratuito • 3 minutos"}),(0,s.jsxs)("h1",{className:"font-display text-3xl sm:text-4xl md:text-5xl font-bold text-warmGray-900 leading-tight mb-4",children:["Por Que Voc\xeas Falam",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-gradient",children:"Mas Ningu\xe9m Se Ouve?"})]}),(0,s.jsx)("p",{className:"text-lg sm:text-xl text-warmGray-600 max-w-xl mx-auto mb-8",children:"Descubra em 3 minutos qual dos 5 Elementos est\xe1 desalinhado no seu relacionamento — e por que voc\xeas parecem falar l\xednguas diferentes."})]}),(0,s.jsx)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-2 sm:grid-cols-5 gap-3 sm:gap-4 mb-10",children:a.map((e,a)=>(0,s.jsxs)(c.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.3+.1*a},className:"flex flex-col items-center p-4 rounded-xl bg-white shadow-sm border border-warmGray-100\n                ".concat(4===a?"col-span-2 sm:col-span-1":""),children:[(0,s.jsx)("span",{className:"text-3xl mb-2",children:e.icon}),(0,s.jsx)("span",{className:"font-semibold text-warmGray-800 text-sm",children:e.name.toUpperCase()}),(0,s.jsx)("span",{className:"text-xs text-warmGray-500 text-center mt-1",children:e.shortMeaning})]},e.name))}),(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-center",children:[(0,s.jsx)("button",{onClick:e,className:"btn-primary text-xl px-10 py-5 mb-4",children:"Descobrir Meu Elemento Desalinhado"}),(0,s.jsx)("p",{className:"text-sm text-warmGray-500",children:"✓ 25 perguntas r\xe1pidas \xa0•\xa0 ✓ Resultado imediato \xa0•\xa0 ✓ 100% gratuito"})]}),(0,s.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},className:"mt-12 pt-8 border-t border-warmGray-200",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 text-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-warmGray-200 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg",children:"✨"})}),(0,s.jsxs)("span",{className:"text-sm text-warmGray-600",children:["Por ",(0,s.jsx)("strong",{children:"Jaya Roberta"})," | 8 anos transformando casais"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-warmGray-200 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDD25"})}),(0,s.jsxs)("span",{className:"text-sm text-warmGray-600",children:[(0,s.jsx)("strong",{children:"+500 casais"})," j\xe1 fizeram esse diagn\xf3stico"]})]})]})}),(0,s.jsx)(c.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"text-center text-warmGray-500 text-sm mt-8 max-w-md mx-auto",children:"⚠️ Responda com honestidade. Este teste s\xf3 funciona se voc\xea for real consigo mesmo(a) sobre como o relacionamento est\xe1 hoje."})]})})}var x=t(4446),u=t(518),h=t(2440);function p(){let{currentQuestionIndex:e,answers:a,answerQuestion:t,goToPreviousQuestion:n,getProgress:l}=(0,i.v)(),[m,d]=(0,r.useState)(null),p=h.Xl[e],y=p.element;if(!["terra","agua","ar","fogo","eter"].includes(y))throw Error("Elemento inv\xe1lido: ".concat(y));let j=function(e){if(["terra","agua","ar","fogo","eter"].includes(e))return o.j[e];throw Error("Elemento inv\xe1lido: ".concat(e))}(y),f=l(),g=a.find(e=>e.questionId===p.id),b=e=>{d(e),setTimeout(()=>{t({questionId:p.id,element:y,value:e}),d(null)},300)};return(0,s.jsxs)("div",{className:"min-h-screen bg-cream flex flex-col",children:[(0,s.jsx)("div",{className:"sticky top-0 bg-cream/95 backdrop-blur-sm border-b border-warmGray-100 z-10",children:(0,s.jsxs)("div",{className:"container-quiz py-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,s.jsx)("button",{onClick:n,disabled:0===e,className:"p-2 -ml-2 rounded-lg text-warmGray-500 hover:text-warmGray-700    hover:bg-warmGray-100 disabled:opacity-30 disabled:cursor-not-allowed   transition-colors","aria-label":"Voltar",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)(c.E.div,{className:"progress-bar-fill",initial:{width:0},animate:{width:"".concat(f,"%")},transition:{duration:.5,ease:"easeOut"}})})}),(0,s.jsxs)("span",{className:"text-sm font-medium text-warmGray-500 tabular-nums",children:[e+1,"/",h.Xl.length]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"element-badge ".concat(y),children:[j.icon," ",j.name]}),(0,s.jsx)("span",{className:"text-xs text-warmGray-400",children:j.question})]})]})}),(0,s.jsx)("div",{className:"flex-1 flex items-center",children:(0,s.jsx)("div",{className:"container-quiz py-8 w-full",children:(0,s.jsx)(x.M,{mode:"wait",children:(0,s.jsxs)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[(0,s.jsx)("h2",{className:"font-display text-2xl sm:text-3xl font-bold text-warmGray-900 mb-8 leading-snug",children:p.text}),(0,s.jsx)("div",{className:"space-y-3",children:p.options.map((e,a)=>{let t=m===e.value||(null==g?void 0:g.value)===e.value;return(0,s.jsx)(c.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},onClick:()=>b(e.value),className:"option-card ".concat(t?"selected":""),children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex-shrink-0 transition-all duration-200\n                            ".concat(t?"border-fogo bg-fogo":"border-warmGray-300"),children:t&&(0,s.jsx)(c.E.div,{initial:{scale:0},animate:{scale:1},className:"w-full h-full rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})}),(0,s.jsx)("span",{className:"text-base sm:text-lg transition-colors duration-200\n                            ".concat(t?"text-warmGray-900 font-medium":"text-warmGray-700"),children:e.text})]})},a)})})]},p.id)})})}),(0,s.jsx)("div",{className:"border-t border-warmGray-100 bg-warmGray-50",children:(0,s.jsx)("div",{className:"container-quiz py-4",children:(0,s.jsxs)("p",{className:"text-center text-sm text-warmGray-500",children:["\uD83D\uDCA1 Responda pensando em como as coisas est\xe3o ",(0,s.jsx)("strong",{children:"hoje"}),", n\xe3o como voc\xea gostaria que fossem."]})})})]})}let y=[{text:"Analisando suas respostas...",emoji:"\uD83D\uDD0D"},{text:"Mapeando os 5 Elementos...",emoji:"\uD83C\uDF0D"},{text:"Identificando padr\xf5es...",emoji:"\uD83E\uDDE9"},{text:"Gerando seu diagn\xf3stico...",emoji:"✨"}];function j(){let[e,a]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{a(e=>e<y.length-1?e+1:e)},600);return()=>clearInterval(e)},[]),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"container-quiz text-center py-16",children:[(0,s.jsxs)(c.E.div,{className:"relative w-32 h-32 mx-auto mb-10",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:[["\uD83C\uDF0D","\uD83D\uDCA7","\uD83C\uDF2C️","\uD83D\uDD25","✨"].map((e,a)=>{let t=360*a/5*Math.PI/180;return(0,s.jsx)(c.E.span,{className:"absolute text-3xl",style:{left:"calc(50% + ".concat(50*Math.cos(t),"px - 15px)"),top:"calc(50% + ".concat(50*Math.sin(t),"px - 15px)")},animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,delay:.3*a},children:e},a)}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"loading-spinner"})})]}),(0,s.jsx)("div",{className:"space-y-4",children:y.map((a,t)=>(0,s.jsxs)(c.E.div,{initial:{opacity:.3},animate:{opacity:t<=e?1:.3},transition:{duration:.3},className:"flex items-center justify-center gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:a.emoji}),(0,s.jsx)("span",{className:"text-lg ".concat(t<=e?"text-warmGray-800 font-medium":"text-warmGray-400"),children:a.text}),t<e&&(0,s.jsx)(c.E.span,{initial:{scale:0},animate:{scale:1},className:"text-green-500",children:"✓"})]},t))}),(0,s.jsx)(c.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"mt-10 text-warmGray-500 text-sm max-w-md mx-auto",children:"O M\xe9todo dos 5 Elementos analisa as dimens\xf5es fundamentais de todo relacionamento saud\xe1vel..."})]})})}var f=t(4086),g=t(7893);function b(){let{result:e,submitEmail:a}=(0,i.v)(),[t,n]=(0,r.useState)(""),[l,m]=(0,r.useState)(!1),[d,x]=(0,r.useState)("");if(!e)return null;let u=o.j[e.lowestElement],h=async e=>{if(e.preventDefault(),x(""),!t||!t.includes("@")){x("Por favor, insira um email v\xe1lido");return}m(!0),await new Promise(e=>setTimeout(e,1e3)),a(t)};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream to-warmGray-100 flex items-center justify-center",children:(0,s.jsx)("div",{className:"container-quiz py-12",children:(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[(0,s.jsx)(c.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"mb-6",children:(0,s.jsx)("span",{className:"text-7xl",children:u.icon})}),(0,s.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,s.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold text-warmGray-900 mb-2",children:"Seu elemento desalinhado \xe9:"}),(0,s.jsx)("h2",{className:"font-display text-4xl sm:text-5xl font-bold mb-4",children:(0,s.jsx)("span",{className:"text-".concat(u.color),children:u.name.toUpperCase()})}),(0,s.jsxs)("p",{className:"text-warmGray-600 mb-8 max-w-md mx-auto",children:[u.shortMeaning," — isso explica por que voc\xeas falam mas n\xe3o se sentem ouvidos."]})]}),(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-lg border border-warmGray-100 p-6 sm:p-8 max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"text-left mb-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-warmGray-900 text-lg mb-2",children:"Para receber sua an\xe1lise completa:"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-warmGray-600",children:[(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-green-500 mt-0.5",children:"✓"}),"O que esse desalinhamento significa na pr\xe1tica"]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-green-500 mt-0.5",children:"✓"}),'Por que voc\xeas "falam mas n\xe3o se entendem"']}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-green-500 mt-0.5",children:"✓"}),"3 primeiros passos para realinhar"]})]})]}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(f.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-warmGray-400"}),(0,s.jsx)("input",{type:"email",value:t,onChange:e=>n(e.target.value),placeholder:"Seu melhor email",className:"input-email pl-12",disabled:l})]}),d&&(0,s.jsx)("p",{className:"text-red-500 text-sm mb-4",children:d}),(0,s.jsx)("button",{type:"submit",disabled:l,className:"btn-primary w-full",children:l?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enviando..."]}):"Ver Meu Resultado Completo"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4 text-xs text-warmGray-500",children:[(0,s.jsx)(g.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Seu email est\xe1 seguro. N\xe3o enviamos spam."})]})]})]})})})}var N=t(3274),w=t(3907),v=t(7164),G=t(6706),E=t(3953),D=t(8992);let S={generatePlanner:"/api/generate-planner"};async function k(e,a){let t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw Error((await t.json().catch(()=>({error:"Unknown error"}))).error||"API Error: ".concat(t.status));return t.json()}function C(){let{result:e,resetQuiz:a,userData:m,answers:d}=(0,i.v)(),{user:x}=l(),u=(0,n.e)(),[h,p]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),[b,C]=(0,r.useState)(null),[I,M]=(0,r.useState)(!1),P=(0,r.useRef)(null);(0,r.useEffect)(()=>{e&&x&&!f&&z()},[e,x]);let z=async()=>{if(e&&x)try{let{error:a}=await u.from("quiz_results").insert({user_id:x.id,terra_score:e.scores.terra,agua_score:e.scores.agua,ar_score:e.scores.ar,fogo_score:e.scores.fogo,eter_score:e.scores.eter,lowest_element:e.lowestElement,lowest_score:e.lowestScore,second_lowest_element:e.secondLowestElement||null,pattern:e.pattern||null,raw_answers:d});if(a)throw a;g(!0)}catch(e){console.error("Erro ao salvar resultado:",e)}},O=async()=>{if(e){p(!0),C(null);try{let a=await k(S.generatePlanner,{lowestElement:e.lowestElement,scores:e.scores,secondLowestElement:e.secondLowestElement,pattern:e.pattern});j(a.planner),x&&await u.from("planners").insert({user_id:x.id,element_focus:e.lowestElement,content:a.planner})}catch(e){C("Erro ao gerar seu planner. Tente novamente."),console.error(e)}finally{p(!1)}}},A=async()=>{if(P.current&&e){M(!0);try{let a=(await Promise.all([t.e(505),t.e(65)]).then(t.bind(t,7501))).jsPDF,s=P.current,r=new a("p","mm","a4");await r.html(s,{callback:a=>{a.save("planner-30-dias-".concat(e.lowestElement,".pdf"))},x:15,y:15,width:180,windowWidth:800,html2canvas:{scale:.25}})}catch(e){console.error("Erro ao gerar PDF:",e),alert("Erro ao gerar PDF. Tente novamente.")}finally{M(!1)}}};if(!e)return null;let F=Object.values(e.scores),_=Math.min(...F),q=Math.max(...F),R=_>=18&&q-_<=3,L=o.j[e.lowestElement],Z=(0,D.jr)(e),T=(0,D.LO)(e);return(0,s.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br ".concat(R?25===_&&25===q?"from-green-500 to-emerald-600":"from-green-400 to-teal-500":({terra:"from-terra to-terra-dark",agua:"from-agua to-agua-dark",ar:"from-ar to-ar-dark",fogo:"from-fogo to-fogo-dark",eter:"from-eter to-eter-dark"})[e.lowestElement]," text-white py-12 sm:py-16"),children:(0,s.jsx)("div",{className:"container-quiz text-center",children:(0,s.jsxs)(c.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[(0,s.jsx)("span",{className:"text-6xl sm:text-8xl block mb-4",children:R?"✨":L.icon}),(0,s.jsx)("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:Z.title}),(0,s.jsx)("p",{className:"text-xl opacity-90",children:Z.subtitle}),"critica"===T&&(0,s.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-4 inline-block bg-white/20 rounded-full px-4 py-2 text-sm",children:"⚠️ N\xedvel cr\xedtico identificado — aten\xe7\xe3o necess\xe1ria"})]})})}),(0,s.jsxs)("div",{className:"container-quiz py-10",children:[(0,s.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-10",children:[(0,s.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"O Que Isso Significa"}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-warmGray-100",children:(0,s.jsx)("p",{className:"text-warmGray-700 leading-relaxed",children:Z.explanation})})]}),(0,s.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-10",children:[(0,s.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"Por Que Voc\xeas Falam Mas N\xe3o Se Sentem Ouvidos"}),(0,s.jsx)("div",{className:"bg-warmGray-50 rounded-xl p-6 border-l-4 border-fogo",children:(0,s.jsx)("p",{className:"text-warmGray-700 leading-relaxed",children:Z.whyNotHeard})})]}),e.pattern&&(0,s.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"mb-10",children:[(0,s.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"⚡ Padr\xe3o Identificado"}),(0,s.jsxs)("div",{className:"bg-red-50 rounded-xl p-6 border border-red-100",children:[(0,s.jsxs)("p",{className:"text-warmGray-700 leading-relaxed",children:[(0,s.jsx)("strong",{children:"Aten\xe7\xe3o:"})," ",e.pattern]}),e.secondLowestElement&&(0,s.jsxs)("p",{className:"mt-2 text-sm text-warmGray-500",children:["Elemento secund\xe1rio em risco:"," ",(0,s.jsxs)("span",{className:"element-badge ".concat(e.secondLowestElement),children:[o.j[e.secondLowestElement].icon," ",o.j[e.secondLowestElement].name]})]})]})]}),(0,s.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:[(0,s.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"Primeiros Passos Para Realinhar"}),(0,s.jsx)("div",{className:"space-y-3",children:Z.firstSteps.map((e,a)=>(0,s.jsxs)(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+.1*a},className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-sm border border-warmGray-100",children:[(0,s.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-".concat(L.color,"/10 \n                             text-").concat(L.color,"-dark font-bold flex items-center justify-center"),children:a+1}),(0,s.jsx)("p",{className:"text-warmGray-700 pt-1",children:e})]},a))})]}),(0,s.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-10",children:[(0,s.jsx)("h2",{className:"font-display text-2xl font-bold text-warmGray-900 mb-4",children:"Seu Mapa dos 5 Elementos"}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-warmGray-100",children:(0,s.jsx)("div",{className:"space-y-4",children:Object.keys(e.scores).map(a=>{let t=e.scores[a],r=(t-5)/20*100,n=o.j[a],l=a===e.lowestElement;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2 text-sm font-medium text-warmGray-700",children:[(0,s.jsx)("span",{children:n.icon}),(0,s.jsx)("span",{children:n.name}),l&&!R&&(0,s.jsx)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded-full",children:"Desalinhado"}),R&&r>=75&&(0,s.jsx)("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:"Alinhado"})]}),(0,s.jsxs)("span",{className:"text-sm text-warmGray-500 tabular-nums",children:[t,"/",25]})]}),(0,s.jsx)("div",{className:"h-3 bg-warmGray-100 rounded-full overflow-hidden",children:(0,s.jsx)(c.E.div,{initial:{width:0},animate:{width:"".concat(Math.max(0,Math.min(100,r)),"%")},transition:{duration:.8,delay:.7},className:"h-full rounded-full ".concat(R?"bg-green-400":l?"bg-red-400":r>=75?"bg-green-400":r>=50?"bg-yellow-400":"bg-orange-400")})})]},a)})})})]}),(0,s.jsx)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-10",children:y?(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-warmGray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-fogo to-fogo-dark p-6 text-white",children:[(0,s.jsxs)("h2",{className:"font-display text-2xl font-bold flex items-center gap-2",children:[(0,s.jsx)(w.Z,{className:"w-6 h-6"}),"Seu Planner de 30 Dias"]}),(0,s.jsxs)("p",{className:"text-white/80 mt-1",children:["Gerado especialmente para realinhar o elemento ",L.name]})]}),(0,s.jsx)("div",{className:"p-6 sm:p-8",children:(0,s.jsx)("div",{ref:P,className:"max-w-none",style:{marginLeft:0,marginRight:0},children:y.split("\n").map((e,a)=>{let t=e.trim();return t.startsWith("# ")?(0,s.jsx)("h1",{className:"text-2xl font-bold mt-8 mb-4 first:mt-0",style:{marginLeft:0,marginRight:0},children:t.substring(2)},a):t.startsWith("## ")?(0,s.jsx)("h2",{className:"text-xl font-bold mt-6 mb-3 text-fogo-dark",style:{marginLeft:0,marginRight:0},children:t.substring(3)},a):t.startsWith("### ")?(0,s.jsx)("h3",{className:"text-lg font-semibold mt-4 mb-2",style:{marginLeft:0,marginRight:0},children:t.substring(4)},a):t.startsWith("- ")?(0,s.jsx)("li",{className:"ml-4 mb-1",style:{marginLeft:"1rem",marginRight:0},children:t.substring(2).replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1")},a):t?(0,s.jsx)("p",{className:"mb-2",style:{marginLeft:0,marginRight:0},dangerouslySetInnerHTML:{__html:t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>")}},a):(0,s.jsx)("br",{},a)})})}),(0,s.jsxs)("div",{className:"border-t border-warmGray-200 p-6 bg-warmGray-50 flex flex-wrap gap-4 justify-center",children:[(0,s.jsx)("button",{onClick:A,disabled:I,className:"btn-primary bg-blue-600 hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50",children:I?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 animate-spin"}),"Gerando PDF..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{className:"w-4 h-4"}),"Baixar PDF"]})}),(0,s.jsxs)("button",{onClick:()=>{let a=new Blob([y],{type:"text/markdown"}),t=URL.createObjectURL(a),s=document.createElement("a");s.href=t,s.download="planner-30-dias-".concat(e.lowestElement,".md"),s.click()},className:"btn-secondary flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4"}),"Baixar MD"]})]})]}):(0,s.jsxs)("div",{className:"bg-gradient-to-br from-warmGray-900 to-warmGray-800 rounded-2xl p-8 text-white text-center",children:[(0,s.jsx)("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-4",children:"\uD83E\uDD16 Seu Planner de 30 Dias Personalizado"}),(0,s.jsxs)("p",{className:"text-warmGray-300 mb-6 max-w-lg mx-auto",children:["Nossa IA vai criar um plano de ",(0,s.jsx)("strong",{children:"30 dias"})," com exerc\xedcios pr\xe1ticos",R?" para manter o equil\xedbrio perfeito dos 5 Elementos no seu relacionamento.":" espec\xedficos para realinhar o elemento <strong>".concat(L.name,"</strong> no seu relacionamento.")]}),(0,s.jsxs)("ul",{className:"text-left max-w-md mx-auto mb-6 space-y-2",children:[(0,s.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),"Exerc\xedcios di\xe1rios de 5-15 minutos"]}),(0,s.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),"Progress\xe3o gradual ao longo das 4 semanas"]}),(0,s.jsxs)("li",{className:"flex items-center gap-2 text-warmGray-300",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),"Gerado por IA com base nas SUAS respostas"]})]}),(0,s.jsx)("button",{onClick:O,disabled:h,className:"btn-primary bg-fogo hover:bg-fogo-dark text-lg px-8 py-4 disabled:opacity-50",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.Z,{className:"w-5 h-5 mr-2 inline animate-spin"}),"Gerando seu planner..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 mr-2 inline"}),"Gerar Meu Planner Gr\xe1tis"]})}),b&&(0,s.jsx)("p",{className:"mt-4 text-red-300 text-sm",children:b})]})}),(0,s.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-6 border-t border-warmGray-200",children:[(0,s.jsxs)("button",{onClick:a,className:"btn-secondary flex items-center gap-2",children:[(0,s.jsx)(G.Z,{className:"w-4 h-4"}),"Refazer Quiz"]}),(0,s.jsxs)("a",{href:"https://instagram.com/jayaroberta",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary flex items-center gap-2",children:[(0,s.jsx)(E.Z,{className:"w-4 h-4"}),"Seguir @jayaroberta"]})]}),(0,s.jsxs)("div",{className:"text-center mt-10 pt-6 border-t border-warmGray-200",children:[(0,s.jsxs)("p",{className:"text-warmGray-500 text-sm",children:["M\xe9todo dos 5 Elementos por"," ",(0,s.jsx)("strong",{className:"text-warmGray-700",children:"Jaya Roberta"})]}),(0,s.jsx)("p",{className:"text-warmGray-400 text-xs mt-1",children:"Terapeuta Integrativa | Relacionamentos & Sexualidade"})]})]})]})}function I(){let{user:e,loading:a,isAuthenticated:t}=l(),r=(0,i.v)(e=>e.currentStep);return(console.log("Auth state:",{user:!!e,loading:a,isAuthenticated:t}),a)?(0,s.jsx)("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:["\uD83C\uDF0D","\uD83D\uDCA7","\uD83C\uDF2C️","\uD83D\uDD25","✨"].map((e,a)=>(0,s.jsx)("span",{className:"text-2xl animate-pulse",style:{animationDelay:"".concat(.1*a,"s")},children:e},a))}),(0,s.jsx)("p",{className:"text-warmGray-500",children:"Carregando..."})]})}):t&&e?(0,s.jsxs)("div",{className:"flex-1",children:["landing"===r&&(0,s.jsx)(d,{}),"quiz"===r&&(0,s.jsx)(p,{}),"calculating"===r&&(0,s.jsx)(j,{}),"email-capture"===r&&(0,s.jsx)(b,{}),"result"===r&&(0,s.jsx)(C,{})]}):(0,s.jsx)(m,{})}},2157:function(e,a,t){"use strict";t.d(a,{e:function(){return r}});var s=t(3506);function r(){return(0,s.createBrowserClient)("https://gytyvacakzqofpnsutdk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd5dHl2YWNha3pxb2ZwbnN1dGRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1MTI4NDMsImV4cCI6MjA2MzA4ODg0M30.KexltGV2axhMohvl2avEOBiosH-VmZ8lFZUtuF6IbCc")}}},function(e){e.O(0,[207,506,646,529,971,23,744],function(){return e(e.s=5304)}),_N_E=e.O()}]);